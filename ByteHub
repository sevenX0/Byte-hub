-- BITE HUB | Brookhaven RP
-- Creditos: Bunny
-- Desenvolvedor: Bunny
-- Dono: ketylnbel
-- Sub-dono: alanzoka2507

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local TextChatService = game:GetService("TextChatService")
local RunService = game:GetService("RunService")
local Debris = game:GetService("Debris")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer

-- Sistema de tags
local TagSystem = {
    Owner = "ketylnbel",
    SubOwner = "alanzoka2507",
    BiteHubUsers = {}
}

-- Tela de carregamento R√ÅPIDA
local loadingScreen = Instance.new("ScreenGui")
loadingScreen.Name = "BiteHubLoading"
loadingScreen.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
loadingScreen.ResetOnSpawn = false

local loadingFrame = Instance.new("Frame")
loadingFrame.Size = UDim2.new(1, 0, 1, 0)
loadingFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
loadingFrame.BorderSizePixel = 0
loadingFrame.Parent = loadingScreen

local logo = Instance.new("TextLabel")
logo.Size = UDim2.new(0, 300, 0, 100)
logo.Position = UDim2.new(0.5, -150, 0.4, -50)
logo.BackgroundTransparency = 1
logo.Text = "BITE HUB"
logo.TextColor3 = Color3.fromRGB(0, 255, 136)
logo.Font = Enum.Font.GothamBlack
logo.TextSize = 48
logo.TextStrokeTransparency = 0.3
logo.Parent = loadingFrame

local loadingText = Instance.new("TextLabel")
loadingText.Size = UDim2.new(0, 300, 0, 30)
loadingText.Position = UDim2.new(0.5, -150, 0.55, 0)
loadingText.BackgroundTransparency = 1
loadingText.Text = "Carregando..."
loadingText.TextColor3 = Color3.fromRGB(200, 200, 200)
loadingText.Font = Enum.Font.Gotham
loadingText.TextSize = 18
loadingText.Parent = loadingFrame

loadingScreen.Parent = game.CoreGui

-- Carregamento r√°pido
for i = 1, 5 do
    loadingText.Text = "Carregando" .. string.rep(".", i % 4)
    task.wait(0.1)
end

loadingScreen:Destroy()

-- Fun√ß√£o para criar tag profissional (como na imagem)
local function createProfessionalTag(player)
    if not player or not player.Character then return end
    
    local function applyTag()
        local character = player.Character
        local head = character:WaitForChild("Head", 2)
        if not head then return end
        
        -- Remove tag antiga
        local oldTag = head:FindFirstChild("BiteHubTag")
        if oldTag then oldTag:Destroy() end
        
        -- Verifica que tipo de tag aplicar
        local tagText = ""
        local tagColor = Color3.fromRGB(255, 255, 255)
        
        if player.Name == TagSystem.Owner then
            tagText = "OWNER"
            tagColor = Color3.fromRGB(255, 50, 50)
        elseif player.Name == TagSystem.SubOwner then
            tagText = "SUB-OWNER"
            tagColor = Color3.fromRGB(255, 165, 0)
        elseif TagSystem.BiteHubUsers[player.Name] then
            tagText = "BITE HUB USER"
            tagColor = Color3.fromRGB(0, 255, 136)
        else
            return -- N√£o aplica tag se n√£o for usu√°rio do hub
        end
        
        -- Cria tag profissional (estilo da imagem)
        local billboard = Instance.new("BillboardGui")
        billboard.Name = "BiteHubTag"
        billboard.Size = UDim2.new(0, 200, 0, 40)
        billboard.StudsOffset = Vector3.new(0, 2.5, 0)
        billboard.AlwaysOnTop = true
        billboard.ResetOnSpawn = false
        billboard.Parent = head
        
        local background = Instance.new("Frame")
        background.Size = UDim2.new(1, 0, 1, 0)
        background.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
        background.BackgroundTransparency = 0.3
        background.BorderSizePixel = 0
        background.Parent = billboard
        
        local textLabel = Instance.new("TextLabel")
        textLabel.Size = UDim2.new(1, 0, 1, 0)
        textLabel.BackgroundTransparency = 1
        textLabel.Text = tagText
        textLabel.TextColor3 = tagColor
        textLabel.TextSize = 18
        textLabel.Font = Enum.Font.GothamBold
        textLabel.TextStrokeTransparency = 0
        textLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
        textLabel.Parent = billboard
        
        -- Adiciona efeito de brilho para dono
        if player.Name == TagSystem.Owner then
            local glow = Instance.new("UIGradient")
            glow.Color = ColorSequence.new{
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 50, 50)),
                ColorSequenceKeypoint.new(0.5, Color3.fromRGB(255, 200, 50)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 50, 50))
            }
            glow.Enabled = true
            glow.Parent = textLabel
        end
    end
    
    pcall(applyTag)
    player.CharacterAdded:Connect(function()
        task.wait(0.5)
        pcall(applyTag)
    end)
end

-- Marca jogador atual como usu√°rio Bite Hub
TagSystem.BiteHubUsers[LocalPlayer.Name] = true

-- Aplica tags inicialmente
for _, player in pairs(Players:GetPlayers()) do
    createProfessionalTag(player)
end
Players.PlayerAdded:Connect(createProfessionalTag)

-- Sistema de comandos
local SavedSpeed = {}
local ActiveJails = {}
local JailLoops = {}

local function getPlayer(nameString)
    if not nameString then return nil end
    local lowerName = nameString:lower()
    
    if lowerName == "me" or lowerName == "yo" then
        return LocalPlayer
    end

    for _, p in ipairs(Players:GetPlayers()) do
        if p.Name:lower():match(lowerName) or p.DisplayName:lower():match(lowerName) then
            return p
        end
    end
    return nil
end

local Commands = {}

function Commands.kick(targetName)
    local targetP = getPlayer(targetName)
    if targetP == LocalPlayer then
        LocalPlayer:Kick("Bite Hub: Admin Kick")
    end
end

function Commands.kill(targetName)
    local targetP = getPlayer(targetName)
    if targetP and targetP.Character then
        targetP.Character:BreakJoints()
    end
end

function Commands.bring(targetName)
    local targetP = getPlayer(targetName)
    local localChar = LocalPlayer.Character
    local localRoot = localChar and localChar:FindFirstChild("HumanoidRootPart")
    
    if targetP and targetP.Character and localRoot then
        local targetRoot = targetP.Character:FindFirstChild("HumanoidRootPart")
        if targetRoot then
            targetRoot.CFrame = localRoot.CFrame * CFrame.new(0, 0, -3)
        end
    end
end

function Commands.jail(targetName)
    local targetP = getPlayer(targetName)
    if not targetP or not targetP.Character then return end

    local root = targetP.Character:FindFirstChild("HumanoidRootPart")
    if not root then return end

    local basePos = root.Position
    local tName = targetP.Name
    
    if ActiveJails[tName] then Commands.unjail(tName) end

    ActiveJails[tName] = {}

    local function makePart(cf, s)
        local p = Instance.new("Part")
        p.Anchored = true
        p.Size = s
        p.CFrame = cf
        p.Transparency = 0.3
        p.Color = Color3.fromRGB(255, 100, 0)
        p.Parent = workspace
        table.insert(ActiveJails[tName], p)
    end

    makePart(CFrame.new(basePos + Vector3.new(5,0,0)),  Vector3.new(1,10,10))
    makePart(CFrame.new(basePos + Vector3.new(-5,0,0)), Vector3.new(1,10,10))
    makePart(CFrame.new(basePos + Vector3.new(0,0,5)),  Vector3.new(10,10,1))
    makePart(CFrame.new(basePos + Vector3.new(0,0,-5)), Vector3.new(10,10,1))
    makePart(CFrame.new(basePos + Vector3.new(0,5,0)),  Vector3.new(10,1,10))
    makePart(CFrame.new(basePos + Vector3.new(0,-5,0)), Vector3.new(10,1,10))

    if targetP == LocalPlayer then
        JailLoops[tName] = RunService.Heartbeat:Connect(function()
            if not LocalPlayer.Character or not root then return end
            if (root.Position - basePos).Magnitude > 5 then
                root.CFrame = CFrame.new(basePos)
            end
        end)
    end
end

function Commands.unjail(targetName)
    local targetP = getPlayer(targetName)
    local tName = targetP and targetP.Name or targetName 

    if ActiveJails[tName] then
        for _, part in ipairs(ActiveJails[tName]) do
            part:Destroy()
        end
        ActiveJails[tName] = nil
    end

    if JailLoops[tName] then
        JailLoops[tName]:Disconnect()
        JailLoops[tName] = nil
    end
end

function Commands.view(targetName)
    local targetP = getPlayer(targetName)
    if targetP and targetP.Character then
        local targetRoot = targetP.Character:FindFirstChild("HumanoidRootPart")
        local localCam = workspace.CurrentCamera
        
        if targetRoot then
            localCam.CameraSubject = targetRoot
        end
    end
end

function Commands.unview(targetName)
    local localChar = LocalPlayer.Character
    if localChar then
        workspace.CurrentCamera.CameraSubject = localChar:FindFirstChildOfClass("Humanoid")
    end
end

function Commands.annoy(targetName)
    local targetP = getPlayer(targetName)
    if targetP and targetP.Character then
        local targetRoot = targetP.Character:FindFirstChild("HumanoidRootPart")
        local localRoot = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        
        if targetRoot and localRoot then
            -- Spam de teleportes
            spawn(function()
                for i = 1, 20 do
                    localRoot.CFrame = targetRoot.CFrame * CFrame.new(0, 0, 2)
                    task.wait(0.2)
                end
            end)
        end
    end
end

function Commands.unannoy(targetName)
    -- Para loops de annoy
    -- Implementa√ß√£o b√°sica
end

function Commands.verify(target)
    local ch = TextChatService.TextChannels:FindFirstChild("RBXGeneral")
    if ch then ch:SendAsync("BiteHub_User") end
end

-- Painel Hexagon Hub (FUNCIONAL)
local WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Window = WindUI:CreateWindow({
    Title = "üëë BITE HUB | ADMIN",
    Icon = "crown",
    Author = "by: Bunny | Owner: ketylnbel",
    Folder = "BiteHub",
    Size = UDim2.fromOffset(580, 460),
    Transparent = true,
    Theme = "Dark",
    Resizable = false,
    SideBarWidth = 200,
    HideSearchBar = true,
})

-- ABA: ADMIN
local AdmTab = Window:Tab({ Title = "ADMIN", Icon = "shield" })
local Section = AdmTab:Section({ Title = "COMMANDS", Icon = "zap", Opened = true })

local currentTarget = ""

local function getPlayerNames()
    local names = {}
    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= LocalPlayer then
            table.insert(names, p.Name)
        end
    end
    return names
end

local PlayerDropdown = Section:Dropdown({
    Title = "SELECT PLAYER",
    Values = getPlayerNames(),
    Value = "",
    Callback = function(val)
        currentTarget = val
    end
})

Players.PlayerAdded:Connect(function() 
    PlayerDropdown:SetValues(getPlayerNames()) 
end)

Players.PlayerRemoving:Connect(function() 
    PlayerDropdown:SetValues(getPlayerNames()) 
end)

-- Bot√µes estilo Coquette (grandes e vis√≠veis)
local adminButtons = {
    {Title = "KILL", Command = "kill", Color = Color3.fromRGB(255, 50, 50)},
    {Title = "KICK", Command = "kick", Color = Color3.fromRGB(255, 100, 50)},
    {Title = "BRING", Command = "bring", Color = Color3.fromRGB(50, 150, 255)},
    {Title = "VIEW", Command = "view", Color = Color3.fromRGB(100, 200, 100)},
    {Title = "UNVIEW", Command = "unview", Color = Color3.fromRGB(150, 150, 150)},
    {Title = "ANNOY", Command = "annoy", Color = Color3.fromRGB(255, 200, 50)},
    {Title = "UNANNOY", Command = "unannoy", Color = Color3.fromRGB(200, 150, 50)},
    {Title = "JAIL", Command = "jail", Color = Color3.fromRGB(255, 100, 0)},
    {Title = "UNJAIL", Command = "unjail", Color = Color3.fromRGB(200, 100, 50)},
    {Title = "VERIFY", Command = "verify", Color = Color3.fromRGB(0, 255, 136)}
}

for _, btn in ipairs(adminButtons) do
    Section:Button({
        Title = btn.Title,
        Desc = "Execute " .. btn.Command .. " on selected player",
        Callback = function()
            if btn.Command == "verify" then
                Commands.verify()
                Window:Notify({
                    Title = "BITE HUB",
                    Description = "Verification sent to chat!",
                    Duration = 3
                })
            else
                if currentTarget and currentTarget ~= "" then
                    Commands[btn.Command](currentTarget)
                    Window:Notify({
                        Title = "BITE HUB",
                        Description = btn.Command:upper() .. " executed on " .. currentTarget,
                        Duration = 3
                    })
                else
                    Window:Notify({
                        Title = "ERROR",
                        Description = "Select a player first!",
                        Duration = 2
                    })
                end
            end
        end
    })
end

-- ABA: PLAYER
local PlayerTab = Window:Tab({ Title = "PLAYER", Icon = "user" })
local PlayerSection = PlayerTab:Section({ Title = "MOVEMENT", Icon = "wind", Opened = true })

local walkSpeed = 16
PlayerSection:Slider({
    Title = "SPEED",
    Desc = "Adjust walk speed",
    Min = 16,
    Max = 200,
    Default = 16,
    Callback = function(value)
        walkSpeed = value
        local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then humanoid.WalkSpeed = value end
    end
})

local jumpPower = 50
PlayerSection:Slider({
    Title = "JUMP POWER",
    Desc = "Adjust jump height",
    Min = 50,
    Max = 500,
    Default = 50,
    Callback = function(value)
        jumpPower = value
        local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then humanoid.JumpPower = value end
    end
})

local noclipActive = false
PlayerSection:Toggle({
    Title = "NOCLIP",
    Desc = "Walk through walls (Press N)",
    Default = false,
    Callback = function(state)
        noclipActive = state
        Window:Notify({
            Title = "BITE HUB",
            Description = "Noclip: " .. (state and "ON" or "OFF"),
            Duration = 2
        })
    end
})

local flyActive = false
PlayerSection:Toggle({
    Title = "FLY",
    Desc = "Fly mode (Press X)",
    Default = false,
    Callback = function(state)
        flyActive = state
        Window:Notify({
            Title = "BITE HUB",
            Description = "Fly: " .. (state and "ON" or "OFF"),
            Duration = 2
        })
    end
})

-- ABA: TELEPORT
local TeleportTab = Window:Tab({ Title = "TELEPORT", Icon = "map-pin" })
local TeleportSection = TeleportTab:Section({ Title = "LOCATIONS", Icon = "map", Opened = true })

local locations = {
    {Name = "üè† House", CFrame = CFrame.new(-88, 4, 543)},
    {Name = "üèõÔ∏è City Hall", CFrame = CFrame.new(-233, 4, 424)},
    {Name = "üè• Hospital", CFrame = CFrame.new(313, 4, -228)},
    {Name = "üöî Police", CFrame = CFrame.new(422, 4, -172)},
    {Name = "üõçÔ∏è Mall", CFrame = CFrame.new(-527, 9, -244)},
    {Name = "‚úàÔ∏è Airport", CFrame = CFrame.new(-1337, 4, -494)}
}

for _, loc in ipairs(locations) do
    TeleportSection:Button({
        Title = loc.Name,
        Desc = "Teleport to " .. loc.Name,
        Callback = function()
            local char = LocalPlayer.Character
            if char then
                char:SetPrimaryPartCFrame(loc.CFrame)
                Window:Notify({
                    Title = "TELEPORT",
                    Description = "Teleported to " .. loc.Name,
                    Duration = 3
                })
            end
        end
    })
end

-- ABA: SETTINGS
local SettingsTab = Window:Tab({ Title = "SETTINGS", Icon = "settings" })
local SettingsSection = SettingsTab:Section({ Title = "CONFIG", Icon = "sliders", Opened = true })

SettingsSection:Keybind({
    Title = "MENU KEY",
    Desc = "Open/close menu",
    Default = Enum.KeyCode.RightControl,
    Callback = function()
        Window:Toggle()
    end
})

SettingsSection:Button({
    Title = "REFRESH TAGS",
    Desc = "Reload all player tags",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            createProfessionalTag(player)
        end
        Window:Notify({
            Title = "BITE HUB",
            Description = "Tags refreshed!",
            Duration = 2
        })
    end
})

SettingsSection:Button({
    Title = "CLOSE HUB",
    Desc = "Close Bite Hub",
    Callback = function()
        Window:Destroy()
        Window:Notify({
            Title = "BITE HUB",
            Description = "Goodbye!",
            Duration = 2
        })
    end
})

-- Teclas de atalho
local UIS = game:GetService("UserInputService")

UIS.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.N then
        noclipActive = not noclipActive
        Window:Notify({
            Title = "BITE HUB",
            Description = "Noclip: " .. (noclipActive and "ON" or "OFF"),
            Duration = 2
        })
    elseif input.KeyCode == Enum.KeyCode.X then
        flyActive = not flyActive
        Window:Notify({
            Title = "BITE HUB",
            Description = "Fly: " .. (flyActive and "ON" or "OFF"),
            Duration = 2
        })
    elseif input.KeyCode == Enum.KeyCode.RightControl then
        Window:Toggle()
    end
end)

-- Loop do Noclip
RunService.Stepped:Connect(function()
    if noclipActive and LocalPlayer.Character then
        for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)

-- Loop do Fly
RunService.Heartbeat:Connect(function()
    if flyActive and LocalPlayer.Character then
        local root = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if root then
            local flyVelocity = root:FindFirstChild("FlyVelocity") or Instance.new("BodyVelocity")
            flyVelocity.Name = "FlyVelocity"
            flyVelocity.MaxForce = Vector3.new(10000, 10000, 10000)
            flyVelocity.Velocity = Vector3.new(0, 0, 0)
            
            local cam = workspace.CurrentCamera.CFrame
            local move = Vector3.new(0, 0, 0)
            
            if UIS:IsKeyDown(Enum.KeyCode.W) then move = move + cam.LookVector end
            if UIS:IsKeyDown(Enum.KeyCode.S) then move = move - cam.LookVector end
            if UIS:IsKeyDown(Enum.KeyCode.D) then move = move + cam.RightVector end
            if UIS:IsKeyDown(Enum.KeyCode.A) then move = move - cam.RightVector end
            if UIS:IsKeyDown(Enum.KeyCode.Space) then move = move + Vector3.new(0, 1, 0) end
            if UIS:IsKeyDown(Enum.KeyCode.LeftControl) then move = move - Vector3.new(0, 1, 0) end
            
            flyVelocity.Velocity = move * 100
            flyVelocity.Parent = root
        end
    else
        local root = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if root then
            local flyVelocity = root:FindFirstChild("FlyVelocity")
            if flyVelocity then flyVelocity:Destroy() end
        end
    end
end)

-- Notifica√ß√£o inicial
Window:Notify({
    Title = "üëë BITE HUB LOADED",
    Description = "Welcome " .. LocalPlayer.Name .. "!\nOwner: ketylnbel | Dev: Bunny\nPress RightControl to open/close",
    Duration = 5
})

print("========================================")
print("           BITE HUB LOADED              ")
print("           Owner: ketylnbel             ")
print("           Developer: Bunny             ")
print("           User: " .. LocalPlayer.Name)
print("========================================")
